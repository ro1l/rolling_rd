"use strict";(self["webpackChunkrolling"]=self["webpackChunkrolling"]||[]).push([[821],{9334:function(e,t,a){var i=a(6154),n=a(9876),r=a(6294);const s=(0,r.Z)();t.Z=(0,n.Q_)("articleStore",{state:()=>({articles:[],article:{},pagination:{}}),actions:{async getArticles(e=1){this.scrollToTop(),s.isLoadingForStore=!0;const t=`https://vue3-course-api.hexschool.io/api/je-api/articles/?page=${e}`;try{const e=await i.Z.get(t);s.isLoadingForStore=!1,this.articles=e.data.articles,this.pagination=e.data.pagination}catch(a){console.error("Error 找不到資料",a)}},async getArticle(e){this.scrollToTop();const t=`https://vue3-course-api.hexschool.io/api/je-api/article/${e}`;s.isLoadingForStore=!0;try{s.isLoadingForStore=!1;const e=await i.Z.get(t);this.article=e.data.article}catch(a){console.error("Error 找不到資料",a)}},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}})},6294:function(e,t,a){var i=a(9876);t.Z=(0,i.Q_)("statusStore",{state:()=>({isLoadingForStore:!1,cartLoadingItem:""})})},9023:function(e,t,a){a.d(t,{Z:function(){return w}});var i=a(6252),n=a(9963),r=a(3577);const s={class:"pagination-box","aria-label":"Page navigation example"},o={key:0,class:"pre"},l=(0,i._)("span",{"aria-hidden":"true"},"上一頁",-1),c=[l],g=["onClick"],p={key:1,class:"next"},u=(0,i._)("span",{"aria-hidden":"true"},"下一頁",-1),d=[u];function h(e,t,a,l,u,h){return(0,i.wg)(),(0,i.iD)("nav",s,[(0,i._)("ul",null,[!0===a.pages.has_pre?((0,i.wg)(),(0,i.iD)("li",o,[(0,i._)("a",{href:"#","aria-label":"Previous",onClick:t[0]||(t[0]=(0,n.iM)((e=>h.updatePage(a.pages.current_page-1)),["prevent"])),class:(0,r.C_)({disabled:!1===a.pages.has_pre})},c,2)])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.pages.total_pages,(e=>((0,i.wg)(),(0,i.iD)("li",{class:(0,r.C_)(["page",{"active-page":e===a.pages.current_page}]),key:e},[(0,i._)("a",{href:"#",onClick:(0,n.iM)((t=>h.updatePage(e)),["prevent"])},(0,r.zw)(e),9,g)],2)))),128)),!0===a.pages.has_next?((0,i.wg)(),(0,i.iD)("li",p,[(0,i._)("a",{href:"#","aria-label":"Next",onClick:t[1]||(t[1]=(0,n.iM)((e=>h.updatePage(a.pages.current_page+1)),["prevent"])),class:(0,r.C_)({disabled:!1===a.pages.has_next})},d,2)])):(0,i.kq)("",!0)])])}var v={props:["pages"],methods:{updatePage(e){this.$emit("emit-pages",e),setTimeout((()=>{window.scrollTo(0,0)}))}}},_=a(3744);const m=(0,_.Z)(v,[["render",h]]);var w=m},6129:function(e,t,a){a.d(t,{Z:function(){return g}});var i=a(6252),n=a(3577);const r={class:"page-title-lg"};function s(e,t,a,s,o,l){return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("h3",null,(0,n.zw)(a.title),1)])}var o={props:{title:String}},l=a(3744);const c=(0,l.Z)(o,[["render",s]]);var g=c},7707:function(e,t,a){a.d(t,{Z:function(){return p}});var i=a(6252),n=a(3577);const r={class:"page-title-sm"},s={key:0};function o(e,t,a,o,l,c){return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("p",null,(0,n.zw)(a.title),1),a.content?((0,i.wg)(),(0,i.iD)("p",s," /"+(0,n.zw)(a.content),1)):(0,i.kq)("",!0)])}var l={props:{title:String,content:String}},c=a(3744);const g=(0,c.Z)(l,[["render",o]]);var p=g},3821:function(e,t,a){a.r(t),a.d(t,{default:function(){return T}});var i=a(6252),n=a(9963),r=a(3577);const s={class:"articles-box"},o=(0,i._)("div",{class:"img-box load"},null,-1),l=(0,i._)("div",{class:"text"},[(0,i._)("h2",{class:"load"})],-1),c=[o,l],g=["onClick"],p={key:0,class:"img-box"},u=["src","alt"],d={key:1,class:"img-box"},h=(0,i._)("div",{class:"no-image"},[(0,i._)("p",null,"暫無照片")],-1),v=[h],_={class:"text"},m={class:"text-deep"};function w(e,t,a,o,l,h){const w=(0,i.up)("PageTitle"),k=(0,i.up)("PageTitleSm"),f=(0,i.up)("Pagination"),Z=(0,i.up)("Loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(w,{title:"文章總覽"}),(0,i.Wm)(k,{title:"文章總覽"}),(0,i._)("div",s,[e.isLoadingForStore?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(l.skeletonNum,((e,t)=>((0,i.wg)(),(0,i.iD)("a",{href:"#",class:"skeleton-item",key:t},c)))),128)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.articles,(e=>((0,i.wg)(),(0,i.iD)("a",{href:"#",key:e.id,onClick:(0,n.iM)((t=>h.getArticle(e.id)),["prevent"])},[e.image?((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("img",{src:e.image,alt:e.title},null,8,u)])):((0,i.wg)(),(0,i.iD)("div",d,v)),(0,i._)("div",_,[(0,i._)("h2",m,(0,r.zw)(e.title),1)])],8,g)))),128))]),(0,i.Wm)(f,{pages:e.pagination,onEmitPages:e.getArticles},null,8,["pages","onEmitPages"]),(0,i.Wm)(Z,{active:l.isLoading&&e.isLoadingForStore},null,8,["active"])],64)}a(7658);var k=a(9023),f=a(6129),Z=a(7707),x=a(9876),D=a(9334),S=a(6294),P={components:{Pagination:k.Z,PageTitle:f.Z,PageTitleSm:Z.Z},data(){return{isLoading:!1,skeletonNum:4}},computed:{...(0,x.rn)(D.Z,["articles","pagination"]),...(0,x.rn)(S.Z,["isLoadingForStore"])},methods:{...(0,x.nv)(D.Z,["getArticles"]),getArticle(e){this.$router.push(`/article/${e}`)}},created(){this.getArticles()}},b=a(3744);const y=(0,b.Z)(P,[["render",w]]);var T=y}}]);
//# sourceMappingURL=821.b9cca4be.js.map